# Bank simulation API

Java Spring project simulating bank transaction methods

## Setup
- Java 11 used;
- Open and build this maven project on your IDE;
- MySQL server must be running;
- On application.properties, set spring.datasource.username and password to you MySQL credentials;
- Database will be autogenerated when running project, and must be populated.

## Postman Access info
Http method: POST. URL: http://localhost:8080/oauth/token
___
Security client credentials to be used on Basic Auth:
- username: client
- password: client
___
Requisition body: 
- Must be a form-data with keys and values as follows:
- - grant_type - password
- - username - admin
- - password - admin  
___
Executing this method will return a JSON containing a bearer access token, which must be applied to the other methods authorization. example ahead:
```
{
    "access_token": "8cd021e2-3fe7-4dde-a032-70761dda72d4",
    "token_type": "bearer",
    "refresh_token": "dcec1e36-314e-4cb1-8304-879a8e318171",
    "expires_in": 42929,
    "scope": "password"
}
```
## Controller methods and endpoints
Project Swagger: http://localhost:8080/swagger-ui/index.html#/  
Base controller url: http://localhost:8080/user
___
Create new user:
- Endpoint: /
- Http method: POST
- Requisition body example:
```
{
    "document": "00000000000",
    "name": "z√©",
    "password": "0"
}
```
___
Add credit:
- Endpoint: /{document}/credit
- Http method: PUT
- Param: transactionValue.
- Request example:
```
http://localhost:8080/user/00000000000/credit?transactionValue=100
```
___
Add debit:
- Endpoint: /{document}/debit
- Http method: PUT
- Param: transactionValue.
- Request example:
```
http://localhost:8080/user/00000000000/debit?transactionValue=100
```
___
Check balance:
- Endpoint: /{document}/balance
- Http method: GET
___
Get registry:
- Endpoint: /{document}/registry
- Http method: GET
